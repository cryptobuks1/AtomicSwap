(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e){e.exports=JSON.parse('{"tezos":{"RPC":"https://tezos-dev.cryptonomic-infra.tech:443","contractAddr":"KT1T92mZgyZZtVqRG1XfyeqDsPbGe66tPFyV","tezosNode":"https://tezos-dev.cryptonomic-infra.tech:443","network":"carthagenet","chain_id":"NetXjD3HPJJjmcd","conseilServer":{"url":"https://conseil-dev.cryptonomic-infra.tech:443","apiKey":"1e2ca8b9-fb0b-4d78-ab8c-d5b67cc40434","network":"carthagenet"},"contract":[{"prim":"storage","args":[{"prim":"pair","args":[{"prim":"bool","annots":["%active"]},{"prim":"pair","args":[{"prim":"address","annots":["%admin"]},{"prim":"big_map","args":[{"prim":"bytes"},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%hashedSecret"]},{"prim":"pair","args":[{"prim":"address","annots":["%initiator"]},{"prim":"string","annots":["%initiator_eth"]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address","annots":["%participant"]},{"prim":"timestamp","annots":["%refundTimestamp"]}]},{"prim":"pair","args":[{"prim":"int","annots":["%state"]},{"prim":"mutez","annots":["%value"]}]}]}]}],"annots":["%swaps"]}]}]}]},{"prim":"parameter","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%_hashedSecret"]},{"prim":"address","annots":["%_participant"]}],"annots":["%addCounterParty"]},{"prim":"or","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%_hashedSecret"]},{"prim":"pair","args":[{"prim":"timestamp","annots":["%_refundTimestamp"]},{"prim":"string","annots":["%initiator_eth"]}]}],"annots":["%initiateWait"]},{"prim":"pair","args":[{"prim":"bytes","annots":["%_hashedSecret"]},{"prim":"bytes","annots":["%_secret"]}],"annots":["%redeem"]}]}]},{"prim":"or","args":[{"prim":"or","args":[{"prim":"bytes","annots":["%refund"]},{"prim":"unit","annots":["%setDelegate"]}]},{"prim":"or","args":[{"prim":"bool","annots":["%toggleContractState"]},{"prim":"unit","annots":["%withdraw"]}]}]}]}]},{"prim":"code","args":[[{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"True"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: self.data.active == True"}]},{"prim":"FAILWITH"}]]},{"prim":"PUSH","args":[{"prim":"int"},{"int":"0"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"32"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: self.data.swaps[params._hashedSecret].state == 0"}]},{"prim":"FAILWITH"}]]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"22"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CAR"},{"prim":"CDR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: sp.sender == self.data.swaps[params._hashedSecret].initiator"}]},{"prim":"FAILWITH"}]]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"62"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"CDR"},{"prim":"PUSH","args":[{"prim":"int"},{"int":"1"}]},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"63"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"7"}]},{"prim":"CDR"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"NIL","args":[{"prim":"operation"}]}],[{"prim":"IF_LEFT","args":[[{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"True"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: self.data.active == True"}]},{"prim":"FAILWITH"}]]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"MEM"},{"prim":"IF","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: ~ (self.data.swaps.contains(params._hashedSecret))"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DUP"},{"prim":"CDR"},{"prim":"CAR"},{"prim":"NOW"},{"prim":"COMPARE"},{"prim":"LT"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: sp.now < params._refundTimestamp"}]},{"prim":"FAILWITH"}]]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"4"}]},{"prim":"CAR"},{"prim":"AMOUNT"},{"prim":"PUSH","args":[{"prim":"int"},{"int":"0"}]},{"prim":"PAIR","annots":["%state","%value"]},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"6"}]},{"prim":"CDR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"PAIR","annots":["%participant","%refundTimestamp"]},{"prim":"PAIR"},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"6"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"PAIR","annots":["%initiator","%initiator_eth"]},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"CAR"},{"prim":"PAIR","annots":["%hashedSecret"]},{"prim":"PAIR"},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"NIL","args":[{"prim":"operation"}]}],[{"prim":"PUSH","args":[{"prim":"int"},{"int":"1"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"32"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: self.data.swaps[params._hashedSecret].state == 1"}]},{"prim":"FAILWITH"}]]},{"prim":"NOW"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"35"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CDR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"COMPARE"},{"prim":"GT"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: self.data.swaps[params._hashedSecret].refundTimestamp > sp.now"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP"},{"prim":"CDR"},{"prim":"SHA256"},{"prim":"SHA256"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"36"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: self.data.swaps[params._hashedSecret].hashedSecret == sp.sha256(sp.sha256(params._secret))"}]},{"prim":"FAILWITH"}]]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"69"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CDR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CONTRACT","args":[{"prim":"unit"}]},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"69"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"4"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"4"}]},{"prim":"CAR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"69"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"CDR"},{"prim":"UNIT"},{"prim":"TRANSFER_TOKENS"},{"prim":"CONS"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"NONE","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%hashedSecret"]},{"prim":"pair","args":[{"prim":"address","annots":["%initiator"]},{"prim":"string","annots":["%initiator_eth"]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address","annots":["%participant"]},{"prim":"timestamp","annots":["%refundTimestamp"]}]},{"prim":"pair","args":[{"prim":"int","annots":["%state"]},{"prim":"mutez","annots":["%value"]}]}]}]}]},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"}]]}]]}],[{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"1"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"40"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"True"}]}],[{"prim":"PUSH","args":[{"prim":"int"},{"int":"0"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"40"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"}]]},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: (self.data.swaps[params._hashedSecret].state == 1) | (self.data.swaps[params._hashedSecret].state == 0)"}]},{"prim":"FAILWITH"}]]},{"prim":"NOW"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"42"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CDR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"COMPARE"},{"prim":"LE"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: self.data.swaps[params._hashedSecret].refundTimestamp <= sp.now"}]},{"prim":"FAILWITH"}]]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"76"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CAR"},{"prim":"CDR"},{"prim":"CAR"},{"prim":"CONTRACT","args":[{"prim":"unit"}]},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"76"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"4"}]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"4"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"76"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CDR"},{"prim":"CDR"},{"prim":"CDR"},{"prim":"UNIT"},{"prim":"TRANSFER_TOKENS"},{"prim":"CONS"},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"CAR"},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"NONE","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"bytes","annots":["%hashedSecret"]},{"prim":"pair","args":[{"prim":"address","annots":["%initiator"]},{"prim":"string","annots":["%initiator_eth"]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address","annots":["%participant"]},{"prim":"timestamp","annots":["%refundTimestamp"]}]},{"prim":"pair","args":[{"prim":"int","annots":["%state"]},{"prim":"mutez","annots":["%value"]}]}]}]}]},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"}],[{"prim":"DROP"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: sp.sender == self.data.admin"}]},{"prim":"FAILWITH"}]]},{"prim":"NIL","args":[{"prim":"operation"}]}]]}],[{"prim":"IF_LEFT","args":[[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: sp.sender == self.data.admin"}]},{"prim":"FAILWITH"}]]},{"prim":"SWAP"},{"prim":"CDR"},{"prim":"SWAP"},{"prim":"PAIR"}],[{"prim":"DROP"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"WrongCondition: sp.sender == self.data.admin"}]},{"prim":"FAILWITH"}]]}]]},{"prim":"NIL","args":[{"prim":"operation"}]}]]}]]},{"prim":"PAIR"}]]}],"storage":{"prim":"Pair","args":[{"prim":"False"},{"prim":"Pair","args":[{"string":"${config.walletAddr}"},[]]}]}},"ethereum":{"RPC":"https://goerli.infura.io/v3/3f764c2122644024825ab09e9e4d39d2","chain":"goerli","contractAddr":"0xbB2559Ae058407B1087C63c9BdFf9e648f67f8e5","abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"_hashedSecret","type":"bytes32"},{"indexed":false,"internalType":"bytes32","name":"_secret","type":"bytes32"}],"name":"Redeemed","type":"event"},{"inputs":[],"name":"active","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_hashedSecret","type":"bytes32"},{"internalType":"address payable","name":"_participant","type":"address"}],"name":"addCounterParty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"count","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAllSwaps","outputs":[{"components":[{"internalType":"bytes32","name":"prevHash","type":"bytes32"},{"internalType":"bytes32","name":"nextHash","type":"bytes32"},{"internalType":"bytes32","name":"hashedSecret","type":"bytes32"},{"internalType":"address payable","name":"initiator","type":"address"},{"internalType":"address payable","name":"participant","type":"address"},{"internalType":"uint256","name":"refundTimestamp","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"enum AtomicSwap.State","name":"state","type":"uint8"},{"internalType":"string","name":"initiator_tez","type":"string"}],"internalType":"struct AtomicSwap.Swap[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"head","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_hashedSecret","type":"bytes32"},{"internalType":"string","name":"_initiator_tez","type":"string"},{"internalType":"uint256","name":"_refundTimestamp","type":"uint256"}],"name":"initiateWait","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_hashedSecret","type":"bytes32"},{"internalType":"bytes32","name":"_secret","type":"bytes32"}],"name":"redeem","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_hashedSecret","type":"bytes32"}],"name":"refund","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"swaps","outputs":[{"internalType":"bytes32","name":"prevHash","type":"bytes32"},{"internalType":"bytes32","name":"nextHash","type":"bytes32"},{"internalType":"bytes32","name":"hashedSecret","type":"bytes32"},{"internalType":"address payable","name":"initiator","type":"address"},{"internalType":"address payable","name":"participant","type":"address"},{"internalType":"uint256","name":"refundTimestamp","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"enum AtomicSwap.State","name":"state","type":"uint8"},{"internalType":"string","name":"initiator_tez","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"_active","type":"bool"}],"name":"toggleContractState","outputs":[],"stateMutability":"nonpayable","type":"function"}],"byteCode":"608060405234801561001057600080fd5b5060016000806101000a81548160ff0219169083151502179055506000801b60018190555060006002819055506000600360146101000a81548160ff02191690831515021790555033600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550612615806100a86000396000f3fe6080604052600436106100915760003560e01c8063a26473fd11610059578063a26473fd14610169578063af68768b14610192578063b31597ad146101ae578063d6cfeae0146101d7578063eb84e7f21461020257610091565b806302fb0c5e1461009657806306661abd146100c157806326b8f9ac146100ec5780637249fbb6146101155780638f7dcfa31461013e575b600080fd5b3480156100a257600080fd5b506100ab610247565b6040516100b891906121a8565b60405180910390f35b3480156100cd57600080fd5b506100d661025a565b6040516100e391906123b2565b60405180910390f35b3480156100f857600080fd5b50610113600480360381019061010e9190611b40565b610260565b005b34801561012157600080fd5b5061013c60048036038101906101379190611aee565b61046d565b005b34801561014a57600080fd5b50610153610880565b60405161016091906121c3565b60405180910390f35b34801561017557600080fd5b50610190600480360381019061018b9190611ac5565b610886565b005b6101ac60048036038101906101a79190611bb8565b610933565b005b3480156101ba57600080fd5b506101d560048036038101906101d09190611b7c565b610d49565b005b3480156101e357600080fd5b506101ec6112f5565b6040516101f99190612186565b60405180910390f35b34801561020e57600080fd5b5061022960048036038101906102249190611aee565b611764565b60405161023e999897969594939291906121de565b60405180910390f35b600360149054906101000a900460ff1681565b60025481565b60011515600360149054906101000a900460ff161515146102b6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102ad906122b2565b60405180910390fd5b8160018060028111156102c557fe5b6004600084815260200190815260200160002060070160009054906101000a900460ff1660028111156102f457fe5b14610334576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161032b90612372565b60405180910390fd5b836004600082815260200190815260200160002060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146103d9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103d0906122f2565b60405180910390fd5b836004600087815260200190815260200160002060040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060026004600087815260200190815260200160002060070160006101000a81548160ff0219169083600281111561046157fe5b02179055505050505050565b806001600281111561047b57fe5b6004600083815260200190815260200160002060070160009054906101000a900460ff1660028111156104aa57fe5b14806104ee57506002808111156104bd57fe5b6004600083815260200190815260200160002060070160009054906101000a900460ff1660028111156104ec57fe5b145b61052d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161052490612372565b60405180910390fd5b6004600082815260200190815260200160002060050154421015610586576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161057d90612292565b60405180910390fd5b6004600083815260200190815260200160002060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc60046000858152602001908152602001600020600601549081150290604051600060405180830381858888f19350505050158015610618573d6000803e3d6000fd5b506000801b600460008481526020019081526020016000206000015414801561065957506000801b6004600084815260200190815260200160002060010154145b1561066d576000801b6001819055506107bb565b6000801b600460008481526020019081526020016000206000015414156106d05760046000838152602001908152602001600020600101546001819055506000801b600460006001548152602001908152602001600020600001819055506107ba565b6000801b6004600084815260200190815260200160002060010154141561072a576000801b6004600060046000868152602001908152602001600020600001548152602001908152602001600020600101819055506107b9565b600460008381526020019081526020016000206001015460046000600460008681526020019081526020016000206000015481526020019081526020016000206001018190555060046000838152602001908152602001600020600001546004600060046000868152602001908152602001600020600101548152602001908152602001600020600001819055505b5b5b60046000838152602001908152602001600020600080820160009055600182016000905560028201600090556003820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556004820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055600582016000905560068201600090556007820160006101000a81549060ff02191690556008820160006108699190611897565b505060016002600082825403925050819055505050565b60015481565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610916576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161090d906122d2565b60405180910390fd5b80600360146101000a81548160ff02191690831515021790555050565b60008054906101000a900460ff16610980576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161097790612392565b60405180910390fd5b60008060006101000a81548160ff02191690831515021790555060011515600360149054906101000a900460ff161515146109f0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109e7906122b2565b60405180910390fd5b823382600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610a63576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a5a90612352565b60405180910390fd5b60006002811115610a7057fe5b6004600085815260200190815260200160002060070160009054906101000a900460ff166002811115610a9f57fe5b14610adf576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ad690612312565b60405180910390fd5b804210610b21576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b1890612332565b60405180910390fd5b346004600088815260200190815260200160002060060181905550856004600088815260200190815260200160002060020181905550336004600088815260200190815260200160002060040160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550336004600088815260200190815260200160002060030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555084600460008881526020019081526020016000206008019080519060200190610c2b9291906118df565b5083600460008881526020019081526020016000206005018190555060016004600088815260200190815260200160002060070160006101000a81548160ff02191690836002811115610c7a57fe5b02179055506000801b60046000888152602001908152602001600020600001819055506000801b60046000888152602001908152602001600020600101819055506000801b6001541415610cd45785600181905550610d16565b60015460046000888152602001908152602001600020600101819055508560046000600154815260200190815260200160002060000181905550856001819055505b600160026000828254019250508190555050505060016000806101000a81548160ff021916908315150217905550505050565b60008054906101000a900460ff16610d96576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d8d90612392565b60405180910390fd5b60008060006101000a81548160ff021916908315150217905550816002806002811115610dbf57fe5b6004600084815260200190815260200160002060070160009054906101000a900460ff166002811115610dee57fe5b14610e2e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e2590612372565b60405180910390fd5b838360046000838152602001908152602001600020600501544210610e88576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e7f90612332565b60405180910390fd5b8160028083604051602001610e9d9190612154565b604051602081830303815290604052604051610eb9919061216f565b602060405180830381855afa158015610ed6573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190610ef99190611b17565b604051602001610f099190612154565b604051602081830303815290604052604051610f25919061216f565b602060405180830381855afa158015610f42573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190610f659190611b17565b14610fa5576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f9c90612272565b60405180910390fd5b6004600087815260200190815260200160002060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc60046000898152602001908152602001600020600601549081150290604051600060405180830381858888f19350505050158015611037573d6000803e3d6000fd5b506000801b600460008881526020019081526020016000206000015414801561107857506000801b6004600088815260200190815260200160002060010154145b1561108c576000801b6001819055506111da565b6000801b600460008881526020019081526020016000206000015414156110ef5760046000878152602001908152602001600020600101546001819055506000801b600460006001548152602001908152602001600020600001819055506111d9565b6000801b60046000888152602001908152602001600020600101541415611149576000801b60046000600460008a8152602001908152602001600020600001548152602001908152602001600020600101819055506111d8565b600460008781526020019081526020016000206001015460046000600460008a815260200190815260200160002060000154815260200190815260200160002060010181905550600460008781526020019081526020016000206000015460046000600460008a8152602001908152602001600020600101548152602001908152602001600020600001819055505b5b5b60046000878152602001908152602001600020600080820160009055600182016000905560028201600090556003820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556004820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055600582016000905560068201600090556007820160006101000a81549060ff02191690556008820160006112889190611897565b50506001600260008282540392505081905550857f489e9ee921192823d1aa1ef800c9ffc642993538b1e7e43a4d46a91965e894ab866040516112cb91906121c3565b60405180910390a25050505060016000806101000a81548160ff0219169083151502179055505050565b60608060025467ffffffffffffffff8111801561131157600080fd5b5060405190808252806020026020018201604052801561134b57816020015b61133861195f565b8152602001906001900390816113305790505b5090506000801b60015414156113645780915050611761565b61136c61195f565b600460006001548152602001908152602001600020604051806101200160405290816000820154815260200160018201548152602001600282015481526020016003820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016004820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160058201548152602001600682015481526020016007820160009054906101000a900460ff16600281111561148957fe5b600281111561149457fe5b8152602001600882018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156115315780601f1061150657610100808354040283529160200191611531565b820191906000526020600020905b81548152906001019060200180831161151457829003601f168201915b505050505081525050905060005b6000801b826020015114611742578183828151811061155a57fe5b60200260200101819052506001810190506004600083602001518152602001908152602001600020604051806101200160405290816000820154815260200160018201548152602001600282015481526020016003820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016004820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160058201548152602001600682015481526020016007820160009054906101000a900460ff16600281111561168a57fe5b600281111561169557fe5b8152602001600882018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156117325780601f1061170757610100808354040283529160200191611732565b820191906000526020600020905b81548152906001019060200180831161171557829003601f168201915b505050505081525050915061153f565b8183828151811061174f57fe5b60200260200101819052508293505050505b90565b60046020528060005260406000206000915090508060000154908060010154908060020154908060030160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060040160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060050154908060060154908060070160009054906101000a900460ff1690806008018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561188d5780601f106118625761010080835404028352916020019161188d565b820191906000526020600020905b81548152906001019060200180831161187057829003601f168201915b5050505050905089565b50805460018160011615610100020316600290046000825580601f106118bd57506118dc565b601f0160209004906000526020600020908101906118db91906119eb565b5b50565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061192057805160ff191683800117855561194e565b8280016001018555821561194e579182015b8281111561194d578251825591602001919060010190611932565b5b50905061195b91906119eb565b5090565b604051806101200160405280600080191681526020016000801916815260200160008019168152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160008152602001600060028111156119de57fe5b8152602001606081525090565b5b80821115611a045760008160009055506001016119ec565b5090565b600081359050611a1781612583565b92915050565b600081359050611a2c8161259a565b92915050565b600081359050611a41816125b1565b92915050565b600081519050611a56816125b1565b92915050565b600082601f830112611a6d57600080fd5b8135611a80611a7b826123fa565b6123cd565b91508082526020830160208301858383011115611a9c57600080fd5b611aa7838284612519565b50505092915050565b600081359050611abf816125c8565b92915050565b600060208284031215611ad757600080fd5b6000611ae584828501611a1d565b91505092915050565b600060208284031215611b0057600080fd5b6000611b0e84828501611a32565b91505092915050565b600060208284031215611b2957600080fd5b6000611b3784828501611a47565b91505092915050565b60008060408385031215611b5357600080fd5b6000611b6185828601611a32565b9250506020611b7285828601611a08565b9150509250929050565b60008060408385031215611b8f57600080fd5b6000611b9d85828601611a32565b9250506020611bae85828601611a32565b9150509250929050565b600080600060608486031215611bcd57600080fd5b6000611bdb86828701611a32565b935050602084013567ffffffffffffffff811115611bf857600080fd5b611c0486828701611a5c565b9250506040611c1586828701611ab0565b9150509250925092565b6000611c2b8383612071565b905092915050565b611c3c816124a2565b82525050565b611c4b816124a2565b82525050565b6000611c5c82612436565b611c668185612464565b935083602082028501611c7885612426565b8060005b85811015611cb45784840389528151611c958582611c1f565b9450611ca083612457565b925060208a01995050600181019050611c7c565b50829750879550505050505092915050565b611ccf816124b4565b82525050565b611cde816124c0565b82525050565b611ced816124c0565b82525050565b611d04611cff826124c0565b61255b565b82525050565b6000611d1582612441565b611d1f8185612475565b9350611d2f818560208601612528565b80840191505092915050565b611d4481612507565b82525050565b611d5381612507565b82525050565b6000611d648261244c565b611d6e8185612480565b9350611d7e818560208601612528565b611d8781612565565b840191505092915050565b6000611d9d8261244c565b611da78185612491565b9350611db7818560208601612528565b611dc081612565565b840191505092915050565b6000611dd8601583612491565b91507f736563726574206973206e6f7420636f727265637400000000000000000000006000830152602082019050919050565b6000611e18601c83612491565b91507f726566756e6454696d657374616d7020686173206e6f7420636f6d65000000006000830152602082019050919050565b6000611e58601783612491565b91507f636f6e74726163742069732064656163746976617465640000000000000000006000830152602082019050919050565b6000611e98601783612491565b91507f73656e646572206973206e6f74207468652061646d696e0000000000000000006000830152602082019050919050565b6000611ed8601b83612491565b91507f73656e646572206973206e6f742074686520696e69746961746f7200000000006000830152602082019050919050565b6000611f18602783612491565b91507f7377617020666f722074686973206861736820697320616c726561647920696e60008301527f69746961746564000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000611f7e602083612491565b91507f726566756e6454696d657374616d702068617320616c726561647920636f6d656000830152602082019050919050565b6000611fbe601b83612491565b91507f696e76616c6964207061727469636970616e74206164647265737300000000006000830152602082019050919050565b6000611ffe600e83612491565b91507f7374617465206d69736d617463680000000000000000000000000000000000006000830152602082019050919050565b600061203e601f83612491565b91507f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006000830152602082019050919050565b60006101208301600083015161208a6000860182611cd5565b50602083015161209d6020860182611cd5565b5060408301516120b06040860182611cd5565b5060608301516120c36060860182611c33565b5060808301516120d66080860182611c33565b5060a08301516120e960a0860182612136565b5060c08301516120fc60c0860182612136565b5060e083015161210f60e0860182611d3b565b506101008301518482036101008601526121298282611d59565b9150508091505092915050565b61213f816124fd565b82525050565b61214e816124fd565b82525050565b60006121608284611cf3565b60208201915081905092915050565b600061217b8284611d0a565b915081905092915050565b600060208201905081810360008301526121a08184611c51565b905092915050565b60006020820190506121bd6000830184611cc6565b92915050565b60006020820190506121d86000830184611ce4565b92915050565b6000610120820190506121f4600083018c611ce4565b612201602083018b611ce4565b61220e604083018a611ce4565b61221b6060830189611c42565b6122286080830188611c42565b61223560a0830187612145565b61224260c0830186612145565b61224f60e0830185611d4a565b8181036101008301526122628184611d92565b90509a9950505050505050505050565b6000602082019050818103600083015261228b81611dcb565b9050919050565b600060208201905081810360008301526122ab81611e0b565b9050919050565b600060208201905081810360008301526122cb81611e4b565b9050919050565b600060208201905081810360008301526122eb81611e8b565b9050919050565b6000602082019050818103600083015261230b81611ecb565b9050919050565b6000602082019050818103600083015261232b81611f0b565b9050919050565b6000602082019050818103600083015261234b81611f71565b9050919050565b6000602082019050818103600083015261236b81611fb1565b9050919050565b6000602082019050818103600083015261238b81611ff1565b9050919050565b600060208201905081810360008301526123ab81612031565b9050919050565b60006020820190506123c76000830184612145565b92915050565b6000604051905081810181811067ffffffffffffffff821117156123f057600080fd5b8060405250919050565b600067ffffffffffffffff82111561241157600080fd5b601f19601f8301169050602081019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b60006124ad826124dd565b9050919050565b60008115159050919050565b6000819050919050565b60008190506124d882612576565b919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6000612512826124ca565b9050919050565b82818337600083830152505050565b60005b8381101561254657808201518184015260208101905061252b565b83811115612555576000848401525b50505050565b6000819050919050565b6000601f19601f8301169050919050565b6003811061258057fe5b50565b61258c816124a2565b811461259757600080fd5b50565b6125a3816124b4565b81146125ae57600080fd5b50565b6125ba816124c0565b81146125c557600080fd5b50565b6125d1816124fd565b81146125dc57600080fd5b5056fea2646970667358221220200c75a188110d96b1f7e553209006180936a322254225749208657e720cbbc964736f6c63430007000033"}}')},279:function(e,r){},293:function(e,r,t){e.exports=t(659)},298:function(e,r,t){},300:function(e,r,t){},314:function(e,r){},323:function(e,r){},341:function(e,r){},343:function(e,r){},359:function(e,r){},361:function(e,r){},432:function(e,r){},434:function(e,r){},443:function(e,r){},445:function(e,r){},474:function(e,r){},476:function(e,r){},483:function(e,r){},494:function(e,r){},64:function(e,r,t){"use strict";(function(e){var a=t(1),n=t.n(a),f=t(5),i=t(17),s=t(16),c=t(11),p=function(){var r=Object(f.a)(n.a.mark((function r(t){var a,f;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=t.substring(2),a=i.TezosMessageUtils.encodeBigMapKey(e.from(i.TezosMessageUtils.writePackedData(t,"bytes"),"hex")),r.next=4,i.TezosNodeReader.getValueForBigMapKey(s.tezos.RPC,15534,a);case 4:if(void 0!==(f=r.sent)){r.next=7;break}return r.abrupt("return",f);case 7:return r.abrupt("return",{hashedSecret:"0x"+Object(c.JSONPath)({path:"$.args[0].args[0].bytes",json:f})[0],initiator:Object(c.JSONPath)({path:"$.args[0].args[1].args[0].string",json:f})[0],initiator_eth:Object(c.JSONPath)({path:"$.args[0].args[1].args[1].string",json:f})[0],participant:Object(c.JSONPath)({path:"$.args[1].args[0].args[0].string",json:f})[0],refundTimestamp:Number(Math.round(new Date(Object(c.JSONPath)({path:"$.args[1].args[0].args[1].string",json:f})[0]).getTime()/1e3)),state:Number(Object(c.JSONPath)({path:"$.args[1].args[1].args[0].int",json:f})[0]),value:Number(Object(c.JSONPath)({path:"$.args[1].args[1].args[1].int",json:f})[0])});case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();r.a=p}).call(this,t(3).Buffer)},659:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),f=t(288),i=t.n(f),s=(t(298),t(1)),c=t.n(s),p=t(5),o=t(19),u=(t(300),t(672)),m=Object(u.a)((function(e){return{container:{width:"100%"},form:{display:"flex",flexDirection:"column",width:"31%",margin:"0 auto",padding:"2vw 3vw 1vw 3vw",border:"0.3vw black solid",borderRadius:"1vw"},input:{margin:"1vw",fontSize:"1.2vw"},submit:{color:"white",width:"fit-content",margin:"1vw auto",padding:"0.5vw",fontWeight:"bold",borderRadius:"0.3vw",backgroundColor:"black",cursor:"pointer",fontSize:"1.2vw",outline:"none",border:"0.2vw black solid","&:hover":{backgroundColor:"white",color:"black"}},intro:{margin:"5vw",fontSize:"1.5vw"},title:{fontFamily:"'Pacifico', cursive",fontSize:"5vw",margin:"0"}}})),b=function(e){var r=e.init,t=m();return n.a.createElement("div",{className:t.container},n.a.createElement("div",{className:t.intro},n.a.createElement("h1",{className:t.title},"Atomic Swap"),n.a.createElement("p",null,"Cross-Chain Atomic Swaps for Ethereum and Tezos"),n.a.createElement("p",null,"*Do not refresh or close the app during a running swap, your swaps will be lost")),n.a.createElement("form",{className:t.form,onSubmit:function(e){e.preventDefault(),""!==e.target.eth.value&&""!==e.target.tez.value&&r(e.target.eth.value,e.target.tez.value)}},n.a.createElement("input",{className:t.input,type:"password",placeholder:"ethereum private key [goerli-testnet]",name:"eth"}),n.a.createElement("input",{className:t.input,type:"password",placeholder:"tezos private key [carthagenet]",name:"tez"}),n.a.createElement("input",{className:t.submit,type:"submit",value:"START"})))},l=t(171),d=t.n(l),h=t(16),g=function(e){var r=new d.a(new d.a.providers.HttpProvider(h.ethereum.RPC)),t=r.eth.accounts.privateKeyToAccount(e);t.privateKey=t.privateKey.substring(2);var a=new r.eth.Contract(h.ethereum.abi,h.ethereum.contractAddr);return{web3:r,keyStore:t,contract:a}},v=t(172),S=t(17),w=function(){var e=Object(p.a)(c.a.mark((function e(r,t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.KeyStoreUtils.restoreIdentityFromSecretKey(r);case 2:return a=e.sent,e.next=5,v.SoftSigner.createSigner(S.TezosMessageUtils.writeKeyWithHint(r,"edsk"),-1);case 5:return n=e.sent,e.abrupt("return",{keyStore:a,signer:n});case 7:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),y=t(61),E=t(20),P=function(){var e=Object(p.a)(c.a.mark((function e(r,t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.eth.getBalance(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(c.a.mark((function e(r){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.TezosNodeReader.getSpendableBalanceForAccount(h.tezos.RPC,r);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),A=Object(u.a)((function(e){return{header:{display:"flex",padding:"1.5vw",fontSize:"1.5vw",justifyContent:"space-between",marginBottom:"1vw"},account:{padding:"0.6vw",border:"0.2vw black solid",borderRadius:"2vw",height:"fit-content",width:"28vw",marginTop:"1vw"},button:{color:"white",border:"0.2vw black solid",cursor:"pointer",margin:"1.5vw 1vw",outline:"none",padding:"0.4vw 0.2vw",fontSize:"1.2vw",fontWeight:"bold",borderRadius:"0.5vw",backgroundColor:"black",width:"10vw","&:hover":{backgroundColor:"white",color:"black"}},title:{fontFamily:"'Pacifico', cursive",fontSize:"5vw",margin:"0",lineHeight:"6vw"},nav:{}}})),C=t(66),O=function(e){var r=e.ethStore,t=e.tezStore,f=e.balUpdate,i=Object(a.useState)({eth:0,tez:0}),s=Object(o.a)(i,2),u=s[0],m=s[1],b=A(),l=Object(E.f)(),d=function(){var e=Object(p.a)(c.a.mark((function e(){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(r.web3,r.keyStore.address);case 2:return a=e.sent,e.next=5,D(t.keyStore.publicKeyHash);case 5:n=e.sent,a/=Math.pow(10,18),f({eth:a,tez:n/=1e6}),m({eth:a,tez:n});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){d();var e=setInterval(Object(p.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:case"end":return e.stop()}}),e)}))),6e4);return function(){clearInterval(e)}}),[r.keyStore.address,t.keyStore.publicKeyHash]),n.a.createElement("div",{className:b.header},n.a.createElement("div",{className:b.account},n.a.createElement("p",null,"Ethereum Addr.: ",Object(C.shorten)(5,5,r.keyStore.address)),n.a.createElement("p",null,"Balance : ",Object(C.truncate)(u.eth,4)," ETH")),n.a.createElement("div",{className:b.nav},n.a.createElement("h1",{className:b.title},"Atomic Swap"),n.a.createElement("button",{className:b.button,onClick:function(){return l.push("/")}},"Home"),n.a.createElement("button",{className:b.button,onClick:function(){return l.push("/about")}},"About"),n.a.createElement("button",{className:b.button,onClick:function(){return l.push("/create")}},"New Swap")),n.a.createElement("div",{className:b.account},n.a.createElement("p",null,"Tezos Addr.: ",Object(C.shorten)(5,5,t.keyStore.publicKeyHash)),n.a.createElement("p",null,"Balance : ",Object(C.truncate)(u.tez,4)," XTZ")))},R=Object(u.a)((function(e){return{button:{color:"white",cursor:"pointer",padding:"0.4vw",background:"black",fontWeight:"bold",borderRadius:"0.4vw",fontSize:"1.2vw",outline:"none",border:"0.2vw black solid","&:hover":{backgroundColor:"white",color:"black"}},swaps:{margin:"1.4vw","& h3":{fontSize:"2.1vw"}},swap:{color:"white",width:"fit-content",border:"0.2vw black solid",margin:"3vw auto",padding:"0.5vw 2vw",lineHeight:"1.7vw",borderRadius:"2vw",backgroundColor:"black"}}})),I=function(e){var r=e.swaps,t=Object(E.f)(),a=R(),f=n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"No Swaps Created Yet!"),n.a.createElement("button",{className:a.button,onClick:function(){return t.push("/create")}},"Start New Swap"));return void 0!==r&&(f=Object.keys(r).map((function(e){return function(e){var r=new Date(1e3*e.refundTime);return n.a.createElement("div",{className:a.swap,key:e.hashedSecret},n.a.createElement("p",null,"Hash : ",e.hashedSecret),n.a.createElement("p",null,"Value : ",e.value),n.a.createElement("p",null,"Expiry Time : ",r.toLocaleString()),n.a.createElement("p",null,"State : ",{1:"Running[1]",2:"Running[2]",3:"Completed",4:"Refunded"}[e.state]))}(r[e])}))),n.a.createElement("div",null,n.a.createElement("div",{className:a.swaps},n.a.createElement("h3",null,"Your Swaps"),f))},T=t(67),x=t(11),k=function(){var e=Object(p.a)(c.a.mark((function e(){var r,t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.TezosNodeReader.getValueForBigMapKey(h.tezos.tezosNode,14981,"exprukkbxD4rqiYFhFNSkLHfyEfbVEMirvDS9naHRjGKbzPsREJfmc",void 0,h.tezos.chain_id);case 2:return r=e.sent,t=Number(Object(x.JSONPath)({path:"$.args[0].args[0].int",json:r})[0]),e.next=6,S.TezosNodeReader.getValueForBigMapKey(h.tezos.tezosNode,14981,"exprv9NLX1skZHFM1i6eXc7eAazz25T1BVjkDzc47fWEEjn6y2Zsay",void 0,h.tezos.chain_id);case 6:return r=e.sent,a=Number(Object(x.JSONPath)({path:"$.args[0].args[0].int",json:r})[0]),e.abrupt("return",a/t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){var r=S.TezosLanguageUtil.translateMichelsonToMicheline(e),t=JSON.parse(r);return{hashedSecret:"0x"+Object(x.JSONPath)({path:"$.args[0].args[0].bytes",json:t})[0],initiator:S.TezosMessageUtils.readAddress(Object(x.JSONPath)({path:"$.args[0].args[1].args[0].bytes",json:t})[0]),initiator_eth:Object(x.JSONPath)({path:"$.args[0].args[1].args[1].string",json:t})[0],participant:S.TezosMessageUtils.readAddress(Object(x.JSONPath)({path:"$.args[1].args[0].args[0].bytes",json:t})[0]),refundTimestamp:Number(Object(x.JSONPath)({path:"$.args[1].args[0].args[1].int",json:t})[0]),state:Number(Object(x.JSONPath)({path:"$.args[1].args[1].args[0].int",json:t})[0]),value:Number(Object(x.JSONPath)({path:"$.args[1].args[1].args[1].int",json:t})[0])}},j=function(){var e=Object(p.a)(c.a.mark((function e(){var r,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.ConseilDataClient.executeEntityQuery(h.tezos.conseilServer,"tezos",h.tezos.network,"big_map_contents",{fields:["key","key_hash","operation_group_id","big_map_id","value"],predicates:[{field:"big_map_id",operation:S.ConseilOperator.EQ,set:["15534"],inverse:!1},{field:"value",operation:S.ConseilOperator.ISNULL,set:[""],inverse:!0}],orderBy:[{field:"key",direction:S.ConseilSortDirection.DESC}],aggregation:[],limit:1e3});case 2:return r=e.sent,t=[],r.forEach((function(e){null!==e.value&&t.push(N(e.value))})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=Object(u.a)((function(e){return{select:{width:"90%",margin:"0 auto",display:"flex",height:"100%",justifyContent:"center"},selectButton:{margin:"1.5vw",padding:"4vw",backgroundColor:"black",borderRadius:"0.6vw",color:"white",fontSize:"2.5vw",fontWeight:"bold",cursor:"pointer",border:"0.2vw solid black",width:"100%",outline:"none","&:hover":{backgroundColor:"white",color:"black"}},expectedValue:{display:"block",margin:"3vw"},create:{backgroundColor:"black",borderRadius:"0.5vw",color:"white",fontWeight:"bold",padding:"0.4vw 1vw",cursor:"pointer",outline:"none",border:"0.2vw black solid","&:hover":{backgroundColor:"white",color:"black"}},valueInput:{marginRight:"1vw",padding:"0.2vw"},swap:{color:"white",border:"0.2vw black solid",cursor:"pointer",margin:"0 1.4vw 1.4vw 1.4vw",padding:"0.5vw 2vw",lineHeight:"1.4vw",borderRadius:"1vw",backgroundColor:"black",outline:"none","&:hover":{backgroundColor:"white",color:"black"}},msg:{margin:"1.4vw 1vw",fontSize:"1.7vw"},swapScreen:{display:"flex",justifyContent:"center",height:"100%"},swapList:{width:"45%",height:"100%"},swaps:{display:"block",height:"60vh",overflowY:"auto"},or:{display:"flex",flexGrow:"1",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"2.5vw",background:"linear-gradient(#000, #000) no-repeat center/2px 100%","& p":{background:"white"}},newSwap:{width:"45%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}}})),W=t(675),H=Object(u.a)((function(e){return{loader:{color:"black",fontSize:"2vw"},msg:{margin:"2vw",fontSize:"1.5vw"},container:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}}})),G=function(e){var r=e.message,t=H();return n.a.createElement("div",{className:t.container},n.a.createElement(W.a,{className:t.loader,size:60}),n.a.createElement("p",{className:t.msg},r))},F=function(e){var r=e.className,t=e.genSwap,f=e.loader,i=(e.balance,Object(a.useState)(0)),s=Object(o.a)(i,2),u=s[0],m=s[1],b=Object(a.useState)(0),l=Object(o.a)(b,2),d=l[0],h=l[1],g=Object(E.f)(),v=U();Object(a.useEffect)((function(){k().then((function(e){m(e)})),console.log("Rate Updated");var e=setInterval(Object(p.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:r=e.sent,m(r);case 4:case"end":return e.stop()}}),e)}))),6e5);return function(){clearInterval(e)}}),[]);var S=function(){var e=Object(p.a)(c.a.mark((function e(r){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),""!==r.target.eth.value&&0!==r.target.eth.value){e.next=3;break}return e.abrupt("return");case 3:return f(!0),e.next=6,t(1,r.target.eth.value);case 6:a=e.sent,f(!1),a?g.push("/"):alert("Error: Swap Couldn't be created");case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:r},n.a.createElement("form",{onSubmit:S},n.a.createElement("input",{type:"number",placeholder:"Amount in ETH",name:"eth",step:".0001",min:"0",onInput:function(e){return h(e.target.value)},className:v.valueInput}),n.a.createElement("input",{className:v.create,type:"submit",value:"CREATE"})),n.a.createElement("div",null,n.a.createElement("p",{className:v.expectedValue},"Expected XTZ Value : ",d*u," XTZ")))},z=function(e){var r=e.genSwap,t=e.selfAcc,f=e.balance,i=Object(a.useState)([]),s=Object(o.a)(i,2),u=s[0],m=s[1],b=Object(a.useState)(!0),l=Object(o.a)(b,2),d=l[0],h=l[1],g=Object(a.useState)(!1),v=Object(o.a)(g,2),S=v[0],w=v[1],y=Object(E.f)(),P=U(),D=function(){var e=Object(p.a)(c.a.mark((function e(r){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:a=e.sent,n=[],a.forEach((function(e){e.participant===e.initiator&&e.initiator!==t&&Math.trunc(Date.now()/1e3)<e.refundTimestamp-4200&&n.push(Object(T.a)(Object(T.a)({},e),{},{displayValue:e.value/1e6,pay:e.value/(1e6*r)}))})),m(n),h(!1);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,r(2,t,a);case 3:n=e.sent,w(!1),n?y.push("/"):alert("Error: Swap Couldn't be created");case 6:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){k().then((function(e){D(e)})),console.log("Rate Updated");var e=setInterval(Object(p.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:r=e.sent,D(r);case 4:case"end":return e.stop()}}),e)}))),6e5);return function(){clearInterval(e)}}),[]);var O="No Swaps Found. Create One!";return u.length>0&&(O=u.map((function(e){return function(e){return n.a.createElement("div",{onClick:function(){A(e.pay,e)},key:e.hashedSecret,className:P.swap},n.a.createElement("p",null,"Hash : ",Object(C.shorten)(15,15,e.hashedSecret)),n.a.createElement("p",null,"XTZ Value : ",e.displayValue),n.a.createElement("p",null,"ETH to Pay : ",e.pay))}(e)}))),S?n.a.createElement(G,{message:"..Creating Your Swap.."}):n.a.createElement("div",{className:P.swapScreen},n.a.createElement(F,{className:P.newSwap,genSwap:r,balance:f,loader:w}),n.a.createElement("div",{className:P.or},n.a.createElement("p",null,"Or")),n.a.createElement("div",{className:P.swapList},n.a.createElement("h3",{className:P.msg},"Select From Available SWAPS"),n.a.createElement("div",{className:P.swaps},d&&n.a.createElement(G,{message:"..Loading Swaps.."}),!d&&O)))},_=function(e){return n.a.createElement(z,e)},M=function(){var e=Object(E.f)(),r=U();return n.a.createElement("div",{className:r.select},n.a.createElement("button",{className:r.selectButton,onClick:function(){return e.push("/create/xtz")}},"XTZ \u21a6 ETH"),n.a.createElement("button",{className:r.selectButton,onClick:function(){return e.push("/create/eth")}},"ETH \u21a6 XTZ"))},L=function(){var e=Object(p.a)(c.a.mark((function e(r){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.contract.methods.getAllSwaps().call();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),B=function(e){var r=e.className,t=e.genSwap,f=e.loader,i=(e.balance,Object(a.useState)(0)),s=Object(o.a)(i,2),u=s[0],m=s[1],b=Object(a.useState)(0),l=Object(o.a)(b,2),d=l[0],h=l[1],g=Object(E.f)(),v=U();Object(a.useEffect)((function(){k().then((function(e){m(e)})),console.log("Rate Updated");var e=setInterval(Object(p.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:r=e.sent,m(r);case 4:case"end":return e.stop()}}),e)}))),6e5);return function(){clearInterval(e)}}),[]);var S=function(){var e=Object(p.a)(c.a.mark((function e(r){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),""!==r.target.tez.value&&0!==r.target.tez.value){e.next=3;break}return e.abrupt("return");case 3:return f(!0),e.next=6,t(2,r.target.tez.value);case 6:a=e.sent,f(!1),a?g.push("/"):alert("Error: Swap Couldn't be created");case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:r},n.a.createElement("form",{onSubmit:S},n.a.createElement("input",{type:"number",placeholder:"Amount in XTZ",name:"tez",step:".0001",min:"0",onInput:function(e){return h(e.target.value)},className:v.valueInput}),n.a.createElement("input",{className:v.create,type:"submit",value:"CREATE"})),n.a.createElement("div",null,n.a.createElement("p",{className:v.expectedValue},"Expected ETH Value : ",d/u," ETH")))},K=function(e){var r=e.genSwap,t=e.ethStore,f=e.balance,i=Object(a.useState)([]),s=Object(o.a)(i,2),u=s[0],m=s[1],b=Object(a.useState)(!0),l=Object(o.a)(b,2),d=l[0],h=l[1],g=Object(a.useState)(!1),v=Object(o.a)(g,2),S=v[0],w=v[1],y=Object(E.f)(),P=U(),D=function(){var e=Object(p.a)(c.a.mark((function e(r){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:a=e.sent,n=[],a.forEach((function(e){e.participant===e.initiator&&e.initiator!==t.keyStore.address&&Math.trunc(Date.now()/1e3)<e.refundTimestamp-4200&&n.push(Object(T.a)(Object(T.a)({},e),{},{dispValue:e.value/Math.pow(10,18),pay:e.value*r/Math.pow(10,18)}))})),m(n),h(!1);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,r(1,t,a);case 3:n=e.sent,w(!1),n?y.push("/"):alert("Error: Swap Couldn't be created");case 6:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){k().then((function(e){D(e)})),console.log("Rate Updated");var e=setInterval(Object(p.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:r=e.sent,D(r);case 4:case"end":return e.stop()}}),e)}))),6e5);return function(){clearInterval(e)}}),[]);var O="No Swaps Found. Create One!";return u.length>0&&(O=u.map((function(e){return function(e){return n.a.createElement("div",{onClick:function(){A(e.pay,e)},key:e.hashedSecret,className:P.swap},n.a.createElement("p",null,"Hash : ",Object(C.shorten)(15,15,e.hashedSecret)),n.a.createElement("p",null,"ETH Value : ",e.dispValue),n.a.createElement("p",null,"XTZ to Pay : ",e.pay))}(e)}))),S?n.a.createElement(G,{message:"..Creating Your Swap.."}):n.a.createElement("div",{className:P.swapScreen},n.a.createElement(B,{className:P.newSwap,genSwap:r,balance:f,loader:w}),n.a.createElement("div",{className:P.or},n.a.createElement("p",null,"Or")),n.a.createElement("div",{className:P.swapList},n.a.createElement("h3",{className:P.msg},"Select From Available SWAPS"),n.a.createElement("div",{className:P.swaps},d&&n.a.createElement(G,{message:"..Loading Swaps.."}),!d&&O)))},J=function(e){return n.a.createElement(K,e)},V=t(64),X=function(){var e=Object(p.a)(c.a.mark((function e(r,t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.contract.methods.swaps(t).call();case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),Z=function(e,r,t,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:300,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:50;return new Promise((function(i,s){S.TezosNodeWriter.testContractInvocationOperation(h.tezos.RPC,h.tezos.chain_id,e.keyStore,h.tezos.contractAddr,r,105e3,6e3,1e6,t,a,S.TezosParameterFormat.Michelson).then((function(i){var s=i.gas,c=i.storageCost;return console.log(s+n,c,~~((s+n)/10+300)),S.TezosNodeWriter.sendContractInvocationOperation(h.tezos.RPC,e.signer,e.keyStore,h.tezos.contractAddr,r,2e5,c+f,s+n,t,a,S.TezosParameterFormat.Michelson)})).then((function(e){var r=e.operationGroupID.replace(/"/g,"").replace(/\n/,"");return S.TezosConseilClient.awaitOperationConfirmation(h.tezos.conseilServer,h.tezos.network,r,2)})).then(i).catch((function(e){console.log(e),i({status:"error"})}))}))},$=function(){var e=Object(p.a)(c.a.mark((function e(r,t,a,n,f){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(r,a,"initiateWait","(Pair ".concat(n,' (Pair "').concat(f,'" "').concat(t,'"))'),1e4,300);case 2:if("applied"===e.sent.status){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(r,t,a,n,f){return e.apply(this,arguments)}}(),Q=t(45),q=t.n(Q),Y=function(){var e=q.a.randomBytes(32),r=q.a.createHash("sha256").update(e).digest();return{hashedSecret:"0x"+(r=q.a.createHash("sha256").update(r).digest("hex")),secret:"0x"+e.toString("hex")}},ee=function(){var e=Object(p.a)(c.a.mark((function e(r,t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(r,0,"addCounterParty","(Pair ".concat(a,' "').concat(t,'")'),1e5);case 2:if("applied"===e.sent.status){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(r,t,a){return e.apply(this,arguments)}}(),re=t(73),te=function(){var e=Object(p.a)(c.a.mark((function e(r,t,a,n){var f,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contract.methods.redeem(a,n).encodeABI();case 2:return f=e.sent,e.next=5,Object(re.a)(r,t,f,"0","1000000");case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(r,t,a,n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(p.a)(c.a.mark((function e(r,t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(r,0,"refund","".concat(t),1e5);case 2:if("applied"===e.sent.status){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),ne=function(e,r,t,a,n){var f=setInterval(Object(p.a)(c.a.mark((function i(){var s;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(Math.trunc(Date.now()/1e3)>=a)){i.next=6;break}return clearInterval(f),i.next=4,ae(r,e.hashedSecret);case 4:return n(e.hashedSecret,4),i.abrupt("return");case 6:return i.next=8,X(t,e.hashedSecret);case 8:if(s=i.sent,console.log("WAITING TO COMPLETE SWAP"),s.participant===t.keyStore.address){i.next=12;break}return i.abrupt("return");case 12:return clearInterval(f),console.log("\nCOMPLETING SWAP"),i.next=16,te(t.web3,t,e.hashedSecret,e.secret);case 16:n(e.hashedSecret,3);case 17:case"end":return i.stop()}}),i)}))),18e4)},fe=function(){var e=Object(p.a)(c.a.mark((function e(r,t,a,n){var f,i,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=Y(),console.log("Your SWAP Secret (XTZ->ETH): ",f),i=Math.trunc(Date.now()/1e3)+7200,e.next=5,$(a,t.keyStore.address,1e6*r+"",f.hashedSecret,i);case 5:if(e.sent){e.next=8;break}return e.abrupt("return",void 0);case 8:return console.log("\nSWAP Generated : "),e.next=11,Object(V.a)(f.hashedSecret);case 11:return s=e.sent,console.log(JSON.stringify(s)),o=setInterval(Object(p.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Math.trunc(Date.now()/1e3)>=i)){e.next=6;break}return clearInterval(o),e.next=4,ae(a,f.hashedSecret);case 4:return n(f.hashedSecret,4),e.abrupt("return");case 6:return e.next=8,X(t,f.hashedSecret);case 8:if(r=e.sent,console.log("CHECKING FOR SWAP RESPONSE"),""!==r.initiator_tez||"0"!==r.refundTimestamp){e.next=12;break}return e.abrupt("return");case 12:return clearInterval(o),console.log("\nA SWAP RESPONSE FOUND : \n",r),e.next=16,ee(a,r.initiator_tez,f.hashedSecret);case 16:n(f.hashedSecret,2),ne(f,a,t,i,n);case 18:case"end":return e.stop()}}),e)}))),18e4),e.abrupt("return",{hashedSecret:f.hashedSecret,value:r+" XTZ",refundTime:i,state:1});case 15:case"end":return e.stop()}}),e)})));return function(r,t,a,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(p.a)(c.a.mark((function e(r,t,a,n,f,i){var s,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contract.methods.initiateWait(a,f,n).encodeABI();case 2:return s=e.sent,e.next=5,Object(re.a)(r,t,s,i,"1000000");case 5:return p=e.sent,e.abrupt("return",p);case 7:case"end":return e.stop()}}),e)})));return function(r,t,a,n,f,i){return e.apply(this,arguments)}}(),se=function(){var e=Object(p.a)(c.a.mark((function e(r,t,a,n){var f,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contract.methods.addCounterParty(a,n).encodeABI();case 2:return f=e.sent,e.next=5,Object(re.a)(r,t,f,"0","1000000");case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(r,t,a,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(p.a)(c.a.mark((function e(r,t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(r,0,"redeem","(Pair ".concat(t," ").concat(a,")"),1e5,300);case 2:if("applied"===e.sent.status){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(r,t,a){return e.apply(this,arguments)}}(),pe=function(){var e=Object(p.a)(c.a.mark((function e(r,t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.contract.getPastEvents("Redeemed",{filter:{_hashedSecret:t},fromBlock:0,toBlock:"latest"});case 2:return a=e.sent,e.abrupt("return",a[0].returnValues._secret);case 4:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(p.a)(c.a.mark((function e(r,t,a){var n,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contract.methods.refund(a).encodeABI();case 2:return n=e.sent,e.next=5,Object(re.a)(r,t,n,"0","1000000");case 5:return f=e.sent,e.abrupt("return",f);case 7:case"end":return e.stop()}}),e)})));return function(r,t,a){return e.apply(this,arguments)}}(),ue=function(e,r,t,a,n){var f=setInterval(Object(p.a)(c.a.mark((function i(){var s,p;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,X(r,e);case 2:if(s=i.sent,console.log("WAITING TO COMPLETE SWAP"),""===s.initiator_tez||"0"===s.refundTimestamp){i.next=11;break}if(!(Math.trunc(Date.now()/1e3)>=a)){i.next=10;break}return clearInterval(f),i.next=9,oe(r.web3,r,e);case 9:n(e,4);case 10:return i.abrupt("return");case 11:return clearInterval(f),console.log("\nCOMPLETING SWAP"),i.next=15,pe(r,e);case 15:return p=i.sent,i.next=18,ce(t,e,p);case 18:n(e,3);case 19:case"end":return i.stop()}}),i)}))),18e4)},me=function(){var e=Object(p.a)(c.a.mark((function e(r,t,a,n,f){var i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.refundTimestamp-3600,e.next=3,ie(t.web3,t,n.hashedSecret,i,a.keyStore.publicKeyHash,r.toString());case 3:if(e.sent){e.next=6;break}return e.abrupt("return",void 0);case 6:return console.log("\nSWAP GENERATED | HASH: ",n.hashedSecret),s=setInterval(Object(p.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Math.trunc(Date.now()/1e3)>=i)){e.next=6;break}return clearInterval(s),e.next=4,oe(t.web3,t,n.hashedSecret);case 4:return f(n.hashedSecret,4),e.abrupt("return");case 6:return e.next=8,Object(V.a)(n.hashedSecret);case 8:if(r=e.sent,console.log("CHECKING FOR SWAP RESPONSE"),r.participant===a.keyStore.publicKeyHash){e.next=12;break}return e.abrupt("return");case 12:return clearInterval(s),console.log("\nA SWAP RESPONSE FOUND : \n",r),e.next=16,se(t.web3,t,n.hashedSecret,r.initiator_eth);case 16:f(n.hashedSecret,2),ue(n.hashedSecret,t,a,i,f);case 18:case"end":return e.stop()}}),e)}))),18e4),e.abrupt("return",{hashedSecret:n.hashedSecret,value:r+" ETH",refundTime:i,state:1});case 9:case"end":return e.stop()}}),e)})));return function(r,t,a,n,f){return e.apply(this,arguments)}}(),be=function(e,r,t,a,n){var f=setInterval(Object(p.a)(c.a.mark((function i(){var s;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(Math.trunc(Date.now()/1e3)>=a)){i.next=6;break}return clearInterval(f),i.next=4,oe(t.web3,t,e.hashedSecret);case 4:return n(e.hashedSecret,4),i.abrupt("return");case 6:return i.next=8,Object(V.a)(e.hashedSecret);case 8:if(s=i.sent,console.log("WAITING TO COMPLETE SWAP"),s.participant===r.keyStore.publicKeyHash){i.next=12;break}return i.abrupt("return");case 12:return clearInterval(f),console.log("\nCOMPLETING SWAP"),i.next=16,ce(r,e.hashedSecret,e.secret);case 16:n(e.hashedSecret,3);case 17:case"end":return i.stop()}}),i)}))),18e4)},le=function(){var e=Object(p.a)(c.a.mark((function e(r,t,a,n){var f,i,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=Y(),console.log("Your SWAP Secret (XTZ->ETH): ",f),i=Math.trunc(Date.now()/1e3)+7200,e.next=5,ie(t.web3,t,f.hashedSecret,i,a.keyStore.publicKeyHash,r+"");case 5:if(e.sent){e.next=8;break}return e.abrupt("return",void 0);case 8:return console.log("\nSWAP Generated : "),e.next=11,X(t,f.hashedSecret);case 11:return s=e.sent,console.log(JSON.stringify(s)),o=setInterval(Object(p.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Math.trunc(Date.now()/1e3)>=i)){e.next=6;break}return clearInterval(o),e.next=4,oe(t.web3,t,f.hashedSecret);case 4:return n(f.hashedSecret,4),e.abrupt("return");case 6:return e.next=8,Object(V.a)(f.hashedSecret);case 8:if(r=e.sent,console.log("CHECKING FOR SWAP RESPONSE"),void 0!==r){e.next=12;break}return e.abrupt("return");case 12:return clearInterval(o),console.log("\nA SWAP RESPONSE FOUND : \n",r),e.next=16,se(t.web3,t,f.hashedSecret,r.initiator_eth);case 16:n(f.hashedSecret,2),be(f,a,t,i,n);case 18:case"end":return e.stop()}}),e)}))),18e4),e.abrupt("return",{hashedSecret:f.hashedSecret,value:r+" ETH",refundTime:i,state:1});case 15:case"end":return e.stop()}}),e)})));return function(r,t,a,n){return e.apply(this,arguments)}}(),de=function(e){var r=e.parameters.split(" ");return Object(T.a)(Object(T.a)({},e),{},{parameters:{hashedSecret:r[1],secret:r[2]}})},he=function(){var e=Object(p.a)(c.a.mark((function e(r){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.ConseilDataClient.executeEntityQuery(h.tezos.conseilServer,"tezos",h.tezos.network,"operations",{fields:["timestamp","source","parameters_entrypoints","parameters"],predicates:[{field:"kind",operation:"eq",set:["transaction"],inverse:!1},{field:"timestamp",operation:"after",set:[1599984675e3],inverse:!1},{field:"status",operation:"eq",set:["applied"],inverse:!1},{field:"destination",operation:"eq",set:["KT1T92mZgyZZtVqRG1XfyeqDsPbGe66tPFyV"],inverse:!1},{field:"parameters_entrypoints",operation:"eq",set:["redeem"],inverse:!1}],orderBy:[{field:"timestamp",direction:"desc"}],aggregation:[],limit:1e3});case 2:t=e.sent,a=0;case 4:if(!(a<t.length)){e.next=11;break}if((n=de(t[a])).parameters.hashedSecret!==r){e.next=8;break}return e.abrupt("return",n.parameters.secret);case 8:++a,e.next=4;break;case 11:return e.abrupt("return","");case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),ge=function(e,r,t,a,n){var f=setInterval(Object(p.a)(c.a.mark((function i(){var s,p;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(V.a)(e);case 2:if(s=i.sent,console.log("WAITING TO COMPLETE SWAP"),void 0===s){i.next=11;break}if(!(Math.trunc(Date.now()/1e3)>=a)){i.next=10;break}return clearInterval(f),i.next=9,ae(t,e);case 9:n(e,4);case 10:return i.abrupt("return");case 11:return clearInterval(f),console.log("\nCOMPLETING SWAP"),i.next=15,he(e);case 15:return p=i.sent,i.next=18,te(r.web3,r,e,p);case 18:n(e,3);case 19:case"end":return i.stop()}}),i)}))),18e4)},ve=function(){var e=Object(p.a)(c.a.mark((function e(r,t,a,n,f){var i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.refundTimestamp-3600,e.next=3,$(a,t.keyStore.address,Math.round(1e6*r)+"",n.hashedSecret,i);case 3:if(e.sent){e.next=6;break}return e.abrupt("return",void 0);case 6:return console.log("\nSWAP GENERATED | HASH: ",n.hashedSecret),s=setInterval(Object(p.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Math.trunc(Date.now()/1e3)>=i)){e.next=6;break}return clearInterval(s),e.next=4,ae(a,n.hashedSecret);case 4:return f(n.hashedSecret,4),e.abrupt("return");case 6:return e.next=8,X(t,n.hashedSecret);case 8:if(r=e.sent,console.log("CHECKING FOR SWAP RESPONSE"),r.participant===t.keyStore.address){e.next=12;break}return e.abrupt("return");case 12:return clearInterval(s),console.log("\nA SWAP RESPONSE FOUND : \n",r),e.next=16,ee(a,r.initiator_tez,n.hashedSecret);case 16:f(n.hashedSecret,2),ge(n.hashedSecret,t,a,i,f);case 18:case"end":return e.stop()}}),e)}))),18e4),e.abrupt("return",{hashedSecret:n.hashedSecret,value:r+" XTZ",refundTime:i,state:1});case 9:case"end":return e.stop()}}),e)})));return function(r,t,a,n,f){return e.apply(this,arguments)}}(),Se=function(){var e=Object(a.useState)(void 0),r=Object(o.a)(e,2),t=r[0],f=r[1],i=Object(a.useState)(void 0),s=Object(o.a)(i,2),u=s[0],m=s[1],l=Object(a.useState)(void 0),d=Object(o.a)(l,2),h=d[0],v=d[1],S=Object(a.useState)(void 0),P=Object(o.a)(S,2),D=P[0],A=P[1],C=n.a.useState(),R=Object(o.a)(C,2)[1],T=Object(a.useRef)();T.current=h;var x=Object(a.useRef)();x.current=t;var k=Object(a.useRef)();k.current=u;var N=n.a.useCallback((function(){return R({})}),[]),j=function(){var e=Object(p.a)(c.a.mark((function e(r,t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=g(r),e.next=4,w(t);case 4:n=e.sent,f(a),m(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("Wrong keys");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r,t){return e.apply(this,arguments)}}(),U=function(e,r){var t=T.current;void 0!==t[e]?(t[e].state=r,v(t),N()):console.log("missing hash update request")},W=function(){var e=Object(p.a)(c.a.mark((function e(r,t){var a,n,f,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.length>2&&void 0!==i[2]?i[2]:void 0,n={},2!==r){e.next=14;break}if(void 0!==a){e.next=9;break}return e.next=6,fe(t,x.current,k.current,U);case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,me(t,x.current,k.current,a,U);case 11:n=e.sent;case 12:e.next=24;break;case 14:if(1!==r){e.next=24;break}if(void 0!==a){e.next=21;break}return e.next=18,le(t,x.current,k.current,U);case 18:n=e.sent,e.next=24;break;case 21:return e.next=23,ve(t,x.current,k.current,a,U);case 23:n=e.sent;case 24:if(void 0!==n){e.next=26;break}return e.abrupt("return",!1);case 26:return void 0===(f=h)&&(f={}),f[n.hashedSecret]=n,v(f),e.abrupt("return",!0);case 31:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();return void 0===t||void 0===u?n.a.createElement("div",{className:"App"},n.a.createElement(b,{init:j})):n.a.createElement(y.a,{basename:"/AtomicSwap"},n.a.createElement("div",{className:"App"},n.a.createElement(O,{ethStore:t,tezStore:u,balUpdate:A}),void 0===D&&n.a.createElement(G,{message:"Loading Account"}),void 0!==D&&n.a.createElement(E.c,null,n.a.createElement(E.a,{exact:!0,path:"/"},n.a.createElement(I,{swaps:h})),n.a.createElement(E.a,{exact:!0,path:"/create/eth"},n.a.createElement(_,{genSwap:W,selfAcc:u.keyStore.publicKeyHash,balance:D.eth})),n.a.createElement(E.a,{exact:!0,path:"/create/xtz"},n.a.createElement(J,{genSwap:W,ethStore:t,balance:D.tez})),n.a.createElement(E.a,{exact:!0,path:"/create"},n.a.createElement(M,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,r){r.shorten=function(e,r,t){return t.substring(0,e)+"..."+t.substring(t.length-r)},r.truncate=function(e,r){return Math.trunc(e*Math.pow(10,r))/Math.pow(10,r)}},73:function(e,r,t){"use strict";(function(e){var a=t(1),n=t.n(a),f=t(5),i=t(16),s=t(170),c=function(){var r=Object(f.a)(n.a.mark((function r(t,a,f,c,p){var o,u,m=arguments;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=m.length>5&&void 0!==m[5]?m[5]:i.ethereum.contractAddr,u=m.length>6&&void 0!==m[6]?m[6]:i.ethereum.chain,r.abrupt("return",new Promise((function(r){try{t.eth.getBlock("latest",!1,(function(n,i){var m=i.gasLimit;try{t.eth.getGasPrice((function(n,i){var b=i;try{var l=e.from(a.keyStore.privateKey,"hex"),d=t.utils.toHex((m+1e6).toString()),h=t.utils.toHex(b.toString()),g=t.utils.toHex(p);t.eth.getTransactionCount(a.keyStore.address).then((function(e){var n={nonce:t.utils.toHex(e),from:a.keyStore.address,gasPrice:h,gasLimit:d,gas:g,value:t.utils.toHex(t.utils.toWei(c,"ether")),data:f};""!==o&&(n.to=o);var i=new s.Transaction(n,{chain:u});i.sign(l);var p="0x"+i.serialize().toString("hex");t.eth.sendSignedTransaction(p.toString("hex")).on("transactionHash",(function(e){console.log("ETH TX HASH : ",e)})).then((function(e){null!=e.contractAddress&&r(e.contractAddress),r(!0)})).catch((function(e){console.error("ETH TX ERROR : ",e),r(!1)}))}))}catch(n){console.error("ETH TX ERROR : ",n),r(!1)}}))}catch(n){console.error("ETH TX ERROR : ",n),r(!1)}}))}catch(n){console.error("ETH TX ERROR : ",n),r(!1)}})));case 3:case"end":return r.stop()}}),r)})));return function(e,t,a,n,f){return r.apply(this,arguments)}}();r.a=c}).call(this,t(3).Buffer)}},[[293,1,2]]]);
//# sourceMappingURL=main.be62b293.chunk.js.map